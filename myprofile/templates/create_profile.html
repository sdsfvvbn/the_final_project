<!DOCTYPE html>
{% load static %}
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Create Profile</title>
    <link rel="stylesheet" type="text/css" href="{% static 'profile/create_profile.css' %}">
</head>
<body>
    <h1>Create Your Profile</h1>
    <form method="post" enctype="multipart/form-data">
        {% csrf_token %}

        <!-- ================== 基本資料 ================== -->
        <h2>Basic Information</h2>

        <!-- ❌ 不需要輸入 username，因為你用的是 request.user -->
        <!-- <label for="username">Username:</label>
        <input type="text" id="username" name="username" required><br> -->

        <label for="avatar">Avatar:</label>
        <input type="file" id="avatar" name="avatar" accept="image/*"><br>

        <label for="instagram">Instagram:</label>
        <input type="text" id="instagram" name="instagram"><br>

        <label for="city">City:</label>
        <input type="text" id="city" name="city" required><br>

        <!-- ================== 技能選擇 ================== -->
        <h2>Skills</h2>

        <!-- 想學習的技能 -->
        <label for="want_to_learn">Want to Learn:</label>
        <select id="want_to_learn" name="want_to_learn" multiple required>
            {% for category in categories %}
                <optgroup label="{{ category|capfirst }}">
                    {% for skill in skills %}
                        {% if skill.category.name == category %}
                            <option value="{{ skill.id }}">{{ skill.name }}</option>
                        {% endif %}
                    {% endfor %}
                </optgroup>
            {% endfor %}
        </select><br>

        <!-- 能教授的技能 -->
        <label for="can_teach">Can Teach:</label>
        <select id="can_teach" name="can_teach" multiple required>
            {% for category in categories %}
                <optgroup label="{{ category|capfirst }}">
                    {% for skill in skills %}
                        {% if skill.category.name == category %}
                            <option value="{{ skill.id }}">{{ skill.name }}</option>
                        {% endif %}
                    {% endfor %}
                </optgroup>
            {% endfor %}
        </select><br>


        <!-- ================== 上課偏好 ================== -->
        <h2>Teaching Preferences</h2>

        <!-- 上課形式 -->
        <label for="class_type">Class Type:</label>
        <select id="class_type" name="class_type" required>
            <option value="online">Online</option>
            <option value="offline">Offline</option>
            <option value="both">Both</option>
        </select><br>

        <!-- 可用時間 -->
        <label for="available_time">Available Time:</label>
        <textarea id="available_time" name="available_time" required 
                  placeholder="e.g., Mon-Fri evenings, weekends"></textarea><br>

        <!-- ================== 個人資訊 ================== -->
        <h2>Personal Information</h2>

        <!-- 個性標籤 -->
        <label for="personality">Personality Tags (hold Ctrl to select multiple):</label>
        <select id="personality" name="personality" multiple required>
            {% for tag in tags %}
                <option value="{{ tag.id }}">{{ tag.name }}</option>
            {% endfor %}
        </select><br>

        <!-- 自我介紹 -->
        <label for="self_intro">Self Introduction:</label>
        <textarea id="self_intro" name="self_intro" required 
                  placeholder="Tell us about yourself, your interests, and your teaching/learning style"></textarea><br>

        <button type="submit">Create Profile</button>
    </form>
</body>
</html>